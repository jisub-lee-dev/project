---
alwaysApply: true
---

# ğŸ—ï¸ í”„ë¡œì íŠ¸ ê·œì¹™ (Project Rules for Monorepo)

ì´ í”„ë¡œì íŠ¸ëŠ” **Turborepo + Next.js 15 + React 19 + shadcn/ui + Tailwind CSS v4 + Prisma + Zod** ë“± 2025ë…„ ìµœì‹  ìŠ¤íƒì„ ë°˜ì˜í•œ ëª¨ë…¸ë ˆí¬ í™˜ê²½ì…ë‹ˆë‹¤.

AIëŠ” ì•„ë˜ì˜ êµ¬ì¡°ì™€ ê¸°ìˆ  ìŠ¤íƒ, ê°œë°œ í™˜ê²½ ê·œì¹™ì„ ë°˜ë“œì‹œ ì¤€ìˆ˜í•´ì•¼ í•©ë‹ˆë‹¤.

## 1. ğŸ›ï¸ í”„ë¡œì íŠ¸ í•µì‹¬ ì›ì¹™ (Core Project Principles)

### Monorepo First (ëª¨ë…¸ë ˆí¬ ìš°ì„ ì£¼ì˜)
- ìƒˆë¡œìš´ ê¸°ëŠ¥ì´ë‚˜ ë¡œì§ì€ íŠ¹ì • ì•±ì— ì¢…ì†ë˜ê¸° ì „ì— packages/ ë‚´ ê³µìœ  ëª¨ë“ˆë¡œ ë§Œë“œëŠ” ê²ƒì„ ìµœìš°ì„ ìœ¼ë¡œ ê³ ë ¤í•˜ì„¸ìš”
- ì½”ë“œ ì¬ì‚¬ìš©ì„±ì„ ê·¹ëŒ€í™”í•˜ëŠ” ê²ƒì´ ëª©í‘œì…ë‹ˆë‹¤

### Strict Separation of Concerns (ì—„ê²©í•œ ê´€ì‹¬ì‚¬ ë¶„ë¦¬)
- ê° ê³µìœ  íŒ¨í‚¤ì§€ëŠ” ëª…í™•í•œ ë‹¨ì¼ ì±…ì„ì„ ê°–ìŠµë‹ˆë‹¤
- **@repo/ui**: ì¬ì‚¬ìš© ê°€ëŠ¥í•œ React ì»´í¬ë„ŒíŠ¸ (ìƒíƒœ ê´€ë¦¬ ë¡œì§ í¬í•¨ ë¶ˆê°€)
- **@repo/db**: ë°ì´í„°ë² ì´ìŠ¤ ìŠ¤í‚¤ë§ˆ(Prisma) ë° í´ë¼ì´ì–¸íŠ¸
- **@repo/validation**: Zodë¥¼ ì‚¬ìš©í•œ ë°ì´í„° ìœ íš¨ì„± ê²€ì‚¬ ìŠ¤í‚¤ë§ˆ
- **@repo/utils**: íŠ¹ì • ë„ë©”ì¸ì— ì¢…ì†ë˜ì§€ ì•ŠëŠ” ìˆœìˆ˜ ìœ í‹¸ë¦¬í‹° í•¨ìˆ˜

### Node.js ë²„ì „ ì¤€ìˆ˜
- ì´ í”„ë¡œì íŠ¸ëŠ” **Node.js v24.x** ì™€ **pnpm 10.12.4** ì‚¬ìš©ì„ ì „ì œë¡œ í•©ë‹ˆë‹¤
- ëª¨ë“  ëª…ë ¹ì–´ì™€ í™˜ê²½ì€ ì´ì— ë§ì¶°ì•¼ í•©ë‹ˆë‹¤

### Configuration Hub (ì¤‘ì•™í™”ëœ ì„¤ì •)
- TypeScript ì„¤ì •ì€ **@repo/tsconfig**ì—ì„œ ì¤‘ì•™ ê´€ë¦¬ë©ë‹ˆë‹¤
- ESLint ì„¤ì •ì€ apps/webì—ì„œëŠ” **Flat Config ë°©ì‹**ìœ¼ë¡œ ë¡œì»¬ ê´€ë¦¬, packagesì—ì„œëŠ” **@repo/eslint-config** ì‚¬ìš©
- ë¡œì»¬ì—ì„œ ì„¤ì •ì„ ì„ì˜ë¡œ ë³€ê²½í•˜ì§€ ë§ˆì„¸ìš”

## 2. ğŸ“‚ íŒŒì¼ ë° ë””ë ‰í† ë¦¬ êµ¬ì¡° ê·œì¹™ (File & Directory Structure Rules)

### í™˜ê²½ ë³€ìˆ˜
- `.env` íŒŒì¼ì€ Git ì¶”ì  ëŒ€ìƒì´ ì•„ë‹™ë‹ˆë‹¤
- ìƒˆë¡œìš´ ê°œë°œ í™˜ê²½ ì„¤ì • ì‹œ, ë°˜ë“œì‹œ ê° `*.example` íŒŒì¼ì„ ë³µì‚¬í•˜ì—¬ êµ¬ì„±í•˜ì„¸ìš”
  - `cp .env.example .env`
  - `cp apps/web/.env.local.example apps/web/.env.local`

### UI ì»´í¬ë„ŒíŠ¸ (@repo/ui)
- **ìƒì„± ìœ„ì¹˜**: ì¬ì‚¬ìš© ê°€ëŠ¥í•œ ëª¨ë“  UI ì»´í¬ë„ŒíŠ¸ëŠ” ë°˜ë“œì‹œ `packages/ui` ì•ˆì— ìƒì„±í•˜ì„¸ìš”
- **shadcn/ui ì¶”ê°€**: ìƒˆ ì»´í¬ë„ŒíŠ¸ ì¶”ê°€ ì‹œ, í”„ë¡œì íŠ¸ ë£¨íŠ¸ì—ì„œ ì•„ë˜ ëª…ë ¹ì–´ë¥¼ ì‚¬ìš©í•˜ì„¸ìš”

```bash
pnpm dlx shadcn@latest add [component-name] --cwd packages/ui
```

- **âš ï¸ ì¤‘ìš”**: shadcn/ui ì»´í¬ë„ŒíŠ¸ ì„¤ì¹˜ í›„ì—ëŠ” ë°˜ë“œì‹œ import ê²½ë¡œ ìˆ˜ì • ìŠ¤í¬ë¦½íŠ¸ë¥¼ ì‹¤í–‰í•´ì•¼ í•©ë‹ˆë‹¤

```bash
# ì»´í¬ë„ŒíŠ¸ ì„¤ì¹˜ í›„ ìë™ìœ¼ë¡œ import ê²½ë¡œ ìˆ˜ì •
pnpm --filter=@repo/ui fix-imports
```

ì´ ìŠ¤í¬ë¦½íŠ¸ëŠ” shadcn/uiê°€ ìƒì„±í•œ ì»´í¬ë„ŒíŠ¸ì˜ `@/lib/utils` ê°™ì€ ì ˆëŒ€ ê²½ë¡œë¥¼ `../../lib/utils` ê°™ì€ ìƒëŒ€ ê²½ë¡œë¡œ ìë™ ë³€í™˜í•©ë‹ˆë‹¤.

- **ì»´í¬ë„ŒíŠ¸ Export**: `packages/ui/src/index.ts` íŒŒì¼ì„ í†µí•´ ëª¨ë“  ì»´í¬ë„ŒíŠ¸ë¥¼ re-exportí•˜ì—¬, ë‹¤ë¥¸ ì•±ì´ë‚˜ íŒ¨í‚¤ì§€ì—ì„œ `import { Button } from '@repo/ui';`ì™€ ê°™ì´ ê°„ê²°í•˜ê²Œ ì„í¬íŠ¸í•  ìˆ˜ ìˆë„ë¡ êµ¬ì¡°ë¥¼ ìœ ì§€í•˜ì„¸ìš”

### ë°ì´í„°ë² ì´ìŠ¤ (@repo/db)
- **ìŠ¤í‚¤ë§ˆ ê´€ë¦¬**: DB ìŠ¤í‚¤ë§ˆëŠ” `packages/db/prisma/schema.prisma` íŒŒì¼ì—ì„œë§Œ ìˆ˜ì •í•˜ì„¸ìš”
- **DB í´ë¼ì´ì–¸íŠ¸**: ëª¨ë“  ë°ì´í„°ë² ì´ìŠ¤ ì ‘ê·¼ì€ @repo/db íŒ¨í‚¤ì§€ì—ì„œ exportí•˜ëŠ” ì‹±ê¸€í†¤(Singleton) Prisma Client ì¸ìŠ¤í„´ìŠ¤ë¥¼ í†µí•´ì„œë§Œ ì´ë£¨ì–´ì ¸ì•¼ í•©ë‹ˆë‹¤
- **ëª¨ë¸ êµ¬ì¡°**: `src/models/` í´ë”ì— ë„ë©”ì¸ë³„ ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ì„ ì‘ì„±í•˜ì„¸ìš”

### ìœ íš¨ì„± ê²€ì¦ (@repo/validation)
- **ë„ë©”ì¸ë³„ êµ¬ì¡°**: `src/[ë„ë©”ì¸]/schemas.ts`ì— ë„ë©”ì¸ë³„ ìŠ¤í‚¤ë§ˆ ì‘ì„±
- **re-export**: `src/index.ts`ì—ì„œ ëª¨ë“  ë„ë©”ì¸ ìŠ¤í‚¤ë§ˆë¥¼ re-export
- **ì‚¬ìš©ë²•**: `import { ProductSchema } from '@repo/validation'`

### ìœ í‹¸ë¦¬í‹° (@repo/utils)
- **ë„ë©”ì¸ë³„ êµ¬ì¡°**: `src/[ë„ë©”ì¸]/utils.ts`ì— ë„ë©”ì¸ë³„ í•¨ìˆ˜ ì‘ì„±
- **re-export**: `src/index.ts`ì—ì„œ ëª¨ë“  ë„ë©”ì¸ ìœ í‹¸ë¦¬í‹°ë¥¼ re-export
- **ì‚¬ìš©ë²•**: `import { formatDate } from '@repo/utils'`

## 3. ğŸ’» ê¸°ìˆ  ìŠ¤íƒë³„ ì½”ë“œ ìƒì„± ê·œì¹™ (Tech Stack-Specific Rules)

### Next.js 15 & React 19
- **App Router ìš°ì„ **: ëª¨ë“  í˜ì´ì§€ì™€ ë¼ìš°íŒ…ì€ App Router ë°©ì‹ìœ¼ë¡œ ì‘ì„±í•˜ì„¸ìš”. Pages Router ë°©ì‹ì€ ì‚¬ìš©í•˜ì§€ ë§ˆì„¸ìš”
- **Server Components by Default**: 'use client' ì§€ì‹œì–´ëŠ” ìƒíƒœ(State), ìƒëª…ì£¼ê¸°(Lifecycle), ë¸Œë¼ìš°ì € ì „ìš© API ë“± í´ë¼ì´ì–¸íŠ¸ ì¸¡ ìƒí˜¸ì‘ìš©ì´ í•„ìˆ˜ì ì¸ ì»´í¬ë„ŒíŠ¸ì˜ ìµœìƒë‹¨ì—ë§Œ ìµœì†Œí•œìœ¼ë¡œ ì‚¬ìš©í•˜ì„¸ìš”
- **React 19 ê¸°ëŠ¥ í™œìš©**: ìƒˆë¡œìš´ React ê¸°ëŠ¥ë“¤ì„ ì ê·¹ í™œìš©í•˜ì„¸ìš”

### ìŠ¤íƒ€ì¼ë§ (Tailwind CSS v4)
- **Tailwind CSS v4.1.11**: ìµœì‹  Tailwind CSS v4ë¥¼ ì‚¬ìš©í•©ë‹ˆë‹¤
- **PostCSS í”ŒëŸ¬ê·¸ì¸**: `@tailwindcss/postcss` í”ŒëŸ¬ê·¸ì¸ì„ í™œìš©í•˜ì„¸ìš”
- **ì• ë‹ˆë©”ì´ì…˜**: `tw-animate-css` íŒ¨í‚¤ì§€ë¥¼ ì‚¬ìš©í•œ ì• ë‹ˆë©”ì´ì…˜ì„ í™œìš©í•˜ì„¸ìš”

### API ë¼ìš°íŠ¸
- **ì‘ë‹µ í˜•ì‹ í‘œì¤€í™”**: ëª¨ë“  API ì‘ë‹µì€ ì¼ê´€ëœ êµ¬ì¡°ë¥¼ ë”°ë¦…ë‹ˆë‹¤

```typescript
// ì˜ˆì‹œ: ì„±ê³µ ì‹œ
{ success: true, data: { ... } }
// ì˜ˆì‹œ: ì‹¤íŒ¨ ì‹œ
{ success: false, error: { message: '...' } }
```

### ì¸ì¦ (Authentication)
- apps/webì˜ ì¸ì¦ì€ **NextAuth.js v5 (Auth.js)**ë¥¼ ì‚¬ìš©í•©ë‹ˆë‹¤
- ì¸ì¦ ê´€ë ¨ ëª¨ë“  ë¡œì§, API ë¼ìš°íŠ¸, ì„¸ì…˜ ê´€ë¦¬ëŠ” NextAuth.jsì˜ ê·œì¹™ê³¼ ëª¨ë²” ì‚¬ë¡€ë¥¼ ë”°ë¦…ë‹ˆë‹¤

### í¼ (Forms)
- **react-hook-form 7.60.0**ê³¼ **zod**ë¥¼ ì‚¬ìš©í•œ ê°•ë ¥í•œ íƒ€ì…-ì„¸ì´í”„ í¼ì„ êµ¬í˜„í•˜ì„¸ìš”
- ìœ íš¨ì„± ê²€ì‚¬ ìŠ¤í‚¤ë§ˆëŠ” @repo/validationì—ì„œ ì •ì˜ëœ Zod ìŠ¤í‚¤ë§ˆë¥¼ ê°€ì ¸ì™€ zodResolverì™€ í•¨ê»˜ ì‚¬ìš©í•˜ì„¸ìš”

## 4. âš™ï¸ ëª…ë ¹ì–´ ë° ì›Œí¬í”Œë¡œìš° (Commands & Workflow)

### ìµœì´ˆ ê°œë°œ í™˜ê²½ ì„¤ì •
1. **ì‚¬ì „ ìš”êµ¬ì‚¬í•­**: Node.js v24.x, pnpm 10.12.4, Docker & Docker Compose
2. **ë°ì´í„°ë² ì´ìŠ¤ ì‹¤í–‰**: `docker compose up -d`
3. **í™˜ê²½ ë³€ìˆ˜ ì„¤ì •**: 
   ```bash
   cp .env.example .env
   cp apps/web/.env.local.example apps/web/.env.local
   ```
4. **NextAuth.js ì‹œí¬ë¦¿ ìƒì„±**:
   ```bash
   node -e "console.log(require('crypto').randomBytes(32).toString('base64'))"
   ```
5. **ì˜ì¡´ì„± ì„¤ì¹˜**: `pnpm install`
6. **ë°ì´í„°ë² ì´ìŠ¤ ìŠ¤í‚¤ë§ˆ ë™ê¸°í™”**: `pnpm --filter=@repo/db db:push`

### ì£¼ìš” ëª…ë ¹ì–´
```bash
# ê°œë°œ ì„œë²„
pnpm dev                    # ì „ì²´ ê°œë°œ ì„œë²„
pnpm --filter=web dev       # web ì•±ë§Œ

# ë¹Œë“œ ë° ë¦°íŠ¸
pnpm build                  # ì „ì²´ ë¹Œë“œ
pnpm lint                   # ì „ì²´ ë¦°íŠ¸
pnpm format                 # í¬ë§·íŒ…

# Prisma ê´€ë ¨
pnpm --filter=@repo/db db:generate
pnpm --filter=@repo/db db:push
pnpm --filter=@repo/db db:studio
pnpm --filter=@repo/db db:migrate

# shadcn/ui ì»´í¬ë„ŒíŠ¸ ì¶”ê°€
pnpm dlx shadcn@latest add [component] --cwd packages/ui
pnpm --filter=@repo/ui fix-imports

# íƒ€ì… ì²´í¬
pnpm --filter=@repo/ui type-check
pnpm --filter=@repo/db type-check
pnpm --filter=@repo/utils type-check
pnpm --filter=@repo/validation type-check

# ìœ ì§€ë³´ìˆ˜
pnpm clean                  # ìºì‹œ ì •ë¦¬
pnpm clean && pnpm install  # ì „ì²´ ì •ë¦¬ ë° ì¬ì„¤ì¹˜
```

### ì»¤ë°‹ ì»¨ë²¤ì…˜
- **Conventional Commits** ê·œì¹™ì„ ì—„ê²©í•˜ê²Œ ë”°ë¦…ë‹ˆë‹¤
- `feat`: ìƒˆë¡œìš´ ê¸°ëŠ¥ ì¶”ê°€
- `fix`: ë²„ê·¸ ìˆ˜ì •
- `docs`: ë¬¸ì„œ ë³€ê²½
- `style`: ì½”ë“œ í¬ë§·íŒ…, ì„¸ë¯¸ì½œë¡  ëˆ„ë½ ë“± (ì½”ë“œ ë³€ê²½ ì—†ìŒ)
- `refactor`: ì½”ë“œ ë¦¬íŒ©í† ë§
- `test`: í…ŒìŠ¤íŠ¸ ì½”ë“œ ì¶”ê°€/ìˆ˜ì •
- `chore`: ë¹Œë“œ, íŒ¨í‚¤ì§€ ë§¤ë‹ˆì € ì„¤ì • ë“±
- ì˜ˆì‹œ: `feat(auth): add password reset feature`

## 5. ğŸš‘ ë¬¸ì œ í•´ê²° (Troubleshooting)

### TypeScript/ESLint ì˜¤ë¥˜
1. ì¤‘ì•™ ì„¤ì •(@repo/eslint-config, @repo/tsconfig)ê³¼ì˜ ë¶ˆì¼ì¹˜ í™•ì¸
2. IDE TypeScript ì„œë²„ ì¬ì‹œì‘
3. ìºì‹œ ì •ë¦¬: `pnpm clean && pnpm install`

### shadcn/ui import ê²½ë¡œ ì˜¤ë¥˜
- **ì˜¤ë¥˜**: `Cannot resolve module '@/lib/utils'` ë˜ëŠ” ìœ ì‚¬í•œ ì ˆëŒ€ ê²½ë¡œ ì˜¤ë¥˜
- **í•´ê²°**: `pnpm --filter=@repo/ui fix-imports` ìŠ¤í¬ë¦½íŠ¸ ì‹¤í–‰
- **ìˆ˜ë™ í•´ê²°**: `@/lib/utils` â†’ `../../lib/utils`, `@/components/ui/` â†’ `./` ë¡œ ë³€ê²½

### React 19 í˜¸í™˜ì„± ë¬¸ì œ
- **íƒ€ì… ì •ì˜ ì—…ë°ì´íŠ¸**: `pnpm add -D @types/react@^19.1.8 @types/react-dom@^19.1.6`
- **ì˜ì¡´ì„± ì¶©ëŒ**: `pnpm clean && pnpm install`ë¡œ ìºì‹œ/ë…¸ë“œëª¨ë“ˆ ì •ë¦¬

### ì˜ì¡´ì„± ì¶©ëŒ ë° ì•Œ ìˆ˜ ì—†ëŠ” ì˜¤ë¥˜
- ê°€ì¥ ë¨¼ì € ì‹œë„: `pnpm clean && pnpm install`

## 6. ğŸ“š í•µì‹¬ ì„í¬íŠ¸ ë° ì„¤ì • (Cheatsheet)

### íŒ¨í‚¤ì§€ ì„í¬íŠ¸
```typescript
// UI Components
import { Button, Card, Input } from '@repo/ui';

// DB Client
import { prisma } from '@repo/db';
import { ProductModel } from '@repo/db';

// Validation Schema
import { ProductSchema, UserSchema } from '@repo/validation';

// Utils
import { formatDate, chunk, generateId } from '@repo/utils';
```

### ì„¤ì • íŒŒì¼
- **TSConfig** (apps/web/tsconfig.json): `{"extends": "@repo/tsconfig/nextjs.json"}`
- **ESLint** (apps/web/eslint.config.mjs): Flat Config ë°©ì‹ìœ¼ë¡œ ì§ì ‘ ì„¤ì •
- **Tailwind** (apps/web/tailwind.config.ts): Tailwind CSS v4 ì„¤ì •

### React Hook Form + Zod ì—°ë™
```typescript
import { zodResolver } from '@hookform/resolvers/zod';
import { useForm } from 'react-hook-form';
import { ProductSchema } from '@repo/validation';

const form = useForm({
  resolver: zodResolver(ProductSchema),
});
```

---

**ì´ ê·œì¹™ì„ ì¤€ìˆ˜í•˜ì—¬ ì¼ê´€ì„± ìˆê³  ìœ ì§€ë³´ìˆ˜ ê°€ëŠ¥í•œ ì½”ë“œë¥¼ ì‘ì„±í•˜ì„¸ìš”! ğŸš€**
- **Validation Schema**: `import { LoginSchema } from '@repo/validation';`
- **TSConfig** (in apps/web/tsconfig.json): `{"extends": "@repo/tsconfig/nextjs.json"}`
- **ESLint** (in apps/web/eslint.config.mjs): Flat Config ë°©ì‹ìœ¼ë¡œ ì§ì ‘ ì„¤ì •

# ğŸ—ï¸ í”„ë¡œì íŠ¸ ê·œì¹™ (Project Rules for Monorepo)

ì´ í”„ë¡œì íŠ¸ëŠ” **Turborepo + Next.js 15 + React 19 + shadcn/ui + Tailwind CSS v4 + Prisma + Zod** ë“± 2025ë…„ ìµœì‹  ìŠ¤íƒì„ ë°˜ì˜í•œ ëª¨ë…¸ë ˆí¬ í™˜ê²½ì…ë‹ˆë‹¤.

AIëŠ” ì•„ë˜ì˜ êµ¬ì¡°ì™€ ê¸°ìˆ  ìŠ¤íƒ, ê°œë°œ í™˜ê²½ ê·œì¹™ì„ ë°˜ë“œì‹œ ì¤€ìˆ˜í•´ì•¼ í•©ë‹ˆë‹¤.

## 1. ğŸ›ï¸ í”„ë¡œì íŠ¸ í•µì‹¬ ì›ì¹™ (Core Project Principles)

### Monorepo First (ëª¨ë…¸ë ˆí¬ ìš°ì„ ì£¼ì˜)
- ìƒˆë¡œìš´ ê¸°ëŠ¥ì´ë‚˜ ë¡œì§ì€ íŠ¹ì • ì•±ì— ì¢…ì†ë˜ê¸° ì „ì— packages/ ë‚´ ê³µìœ  ëª¨ë“ˆë¡œ ë§Œë“œëŠ” ê²ƒì„ ìµœìš°ì„ ìœ¼ë¡œ ê³ ë ¤í•˜ì„¸ìš”
- ì½”ë“œ ì¬ì‚¬ìš©ì„±ì„ ê·¹ëŒ€í™”í•˜ëŠ” ê²ƒì´ ëª©í‘œì…ë‹ˆë‹¤

### Strict Separation of Concerns (ì—„ê²©í•œ ê´€ì‹¬ì‚¬ ë¶„ë¦¬)
- ê° ê³µìœ  íŒ¨í‚¤ì§€ëŠ” ëª…í™•í•œ ë‹¨ì¼ ì±…ì„ì„ ê°–ìŠµë‹ˆë‹¤
- **@repo/ui**: ì¬ì‚¬ìš© ê°€ëŠ¥í•œ React ì»´í¬ë„ŒíŠ¸ (ìƒíƒœ ê´€ë¦¬ ë¡œì§ í¬í•¨ ë¶ˆê°€)
- **@repo/db**: ë°ì´í„°ë² ì´ìŠ¤ ìŠ¤í‚¤ë§ˆ(Prisma) ë° í´ë¼ì´ì–¸íŠ¸
- **@repo/validation**: Zodë¥¼ ì‚¬ìš©í•œ ë°ì´í„° ìœ íš¨ì„± ê²€ì‚¬ ìŠ¤í‚¤ë§ˆ
- **@repo/utils**: íŠ¹ì • ë„ë©”ì¸ì— ì¢…ì†ë˜ì§€ ì•ŠëŠ” ìˆœìˆ˜ ìœ í‹¸ë¦¬í‹° í•¨ìˆ˜

### Node.js ë²„ì „ ì¤€ìˆ˜
- ì´ í”„ë¡œì íŠ¸ëŠ” **Node.js v24.x** ì™€ **pnpm 10.12.4** ì‚¬ìš©ì„ ì „ì œë¡œ í•©ë‹ˆë‹¤
- ëª¨ë“  ëª…ë ¹ì–´ì™€ í™˜ê²½ì€ ì´ì— ë§ì¶°ì•¼ í•©ë‹ˆë‹¤

### Configuration Hub (ì¤‘ì•™í™”ëœ ì„¤ì •)
- TypeScript ì„¤ì •ì€ **@repo/tsconfig**ì—ì„œ ì¤‘ì•™ ê´€ë¦¬ë©ë‹ˆë‹¤
- ESLint ì„¤ì •ì€ apps/webì—ì„œëŠ” **Flat Config ë°©ì‹**ìœ¼ë¡œ ë¡œì»¬ ê´€ë¦¬, packagesì—ì„œëŠ” **@repo/eslint-config** ì‚¬ìš©
- ë¡œì»¬ì—ì„œ ì„¤ì •ì„ ì„ì˜ë¡œ ë³€ê²½í•˜ì§€ ë§ˆì„¸ìš”

## 2. ğŸ“‚ íŒŒì¼ ë° ë””ë ‰í† ë¦¬ êµ¬ì¡° ê·œì¹™ (File & Directory Structure Rules)

### í™˜ê²½ ë³€ìˆ˜
- `.env` íŒŒì¼ì€ Git ì¶”ì  ëŒ€ìƒì´ ì•„ë‹™ë‹ˆë‹¤
- ìƒˆë¡œìš´ ê°œë°œ í™˜ê²½ ì„¤ì • ì‹œ, ë°˜ë“œì‹œ ê° `*.example` íŒŒì¼ì„ ë³µì‚¬í•˜ì—¬ êµ¬ì„±í•˜ì„¸ìš”
  - `cp .env.example .env`
  - `cp apps/web/.env.local.example apps/web/.env.local`

### UI ì»´í¬ë„ŒíŠ¸ (@repo/ui)
- **ìƒì„± ìœ„ì¹˜**: ì¬ì‚¬ìš© ê°€ëŠ¥í•œ ëª¨ë“  UI ì»´í¬ë„ŒíŠ¸ëŠ” ë°˜ë“œì‹œ `packages/ui` ì•ˆì— ìƒì„±í•˜ì„¸ìš”
- **shadcn/ui ì¶”ê°€**: ìƒˆ ì»´í¬ë„ŒíŠ¸ ì¶”ê°€ ì‹œ, í”„ë¡œì íŠ¸ ë£¨íŠ¸ì—ì„œ ì•„ë˜ ëª…ë ¹ì–´ë¥¼ ì‚¬ìš©í•˜ì„¸ìš”

```bash
pnpm dlx shadcn@latest add [component-name] --cwd packages/ui
```

- **âš ï¸ ì¤‘ìš”**: shadcn/ui ì»´í¬ë„ŒíŠ¸ ì„¤ì¹˜ í›„ì—ëŠ” ë°˜ë“œì‹œ import ê²½ë¡œ ìˆ˜ì • ìŠ¤í¬ë¦½íŠ¸ë¥¼ ì‹¤í–‰í•´ì•¼ í•©ë‹ˆë‹¤

```bash
# ì»´í¬ë„ŒíŠ¸ ì„¤ì¹˜ í›„ ìë™ìœ¼ë¡œ import ê²½ë¡œ ìˆ˜ì •
pnpm --filter=@repo/ui fix-imports
```

ì´ ìŠ¤í¬ë¦½íŠ¸ëŠ” shadcn/uiê°€ ìƒì„±í•œ ì»´í¬ë„ŒíŠ¸ì˜ `@/lib/utils` ê°™ì€ ì ˆëŒ€ ê²½ë¡œë¥¼ `../../lib/utils` ê°™ì€ ìƒëŒ€ ê²½ë¡œë¡œ ìë™ ë³€í™˜í•©ë‹ˆë‹¤.

- **ì»´í¬ë„ŒíŠ¸ Export**: `packages/ui/src/index.ts` íŒŒì¼ì„ í†µí•´ ëª¨ë“  ì»´í¬ë„ŒíŠ¸ë¥¼ re-exportí•˜ì—¬, ë‹¤ë¥¸ ì•±ì´ë‚˜ íŒ¨í‚¤ì§€ì—ì„œ `import { Button } from '@repo/ui';`ì™€ ê°™ì´ ê°„ê²°í•˜ê²Œ ì„í¬íŠ¸í•  ìˆ˜ ìˆë„ë¡ êµ¬ì¡°ë¥¼ ìœ ì§€í•˜ì„¸ìš”

### ë°ì´í„°ë² ì´ìŠ¤ (@repo/db)
- **ìŠ¤í‚¤ë§ˆ ê´€ë¦¬**: DB ìŠ¤í‚¤ë§ˆëŠ” `packages/db/prisma/schema.prisma` íŒŒì¼ì—ì„œë§Œ ìˆ˜ì •í•˜ì„¸ìš”
- **DB í´ë¼ì´ì–¸íŠ¸**: ëª¨ë“  ë°ì´í„°ë² ì´ìŠ¤ ì ‘ê·¼ì€ @repo/db íŒ¨í‚¤ì§€ì—ì„œ exportí•˜ëŠ” ì‹±ê¸€í†¤(Singleton) Prisma Client ì¸ìŠ¤í„´ìŠ¤ë¥¼ í†µí•´ì„œë§Œ ì´ë£¨ì–´ì ¸ì•¼ í•©ë‹ˆë‹¤
- **ëª¨ë¸ êµ¬ì¡°**: `src/models/` í´ë”ì— ë„ë©”ì¸ë³„ ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ì„ ì‘ì„±í•˜ì„¸ìš”

### ìœ íš¨ì„± ê²€ì¦ (@repo/validation)
- **ë„ë©”ì¸ë³„ êµ¬ì¡°**: `src/[ë„ë©”ì¸]/schemas.ts`ì— ë„ë©”ì¸ë³„ ìŠ¤í‚¤ë§ˆ ì‘ì„±
- **re-export**: `src/index.ts`ì—ì„œ ëª¨ë“  ë„ë©”ì¸ ìŠ¤í‚¤ë§ˆë¥¼ re-export
- **ì‚¬ìš©ë²•**: `import { ProductSchema } from '@repo/validation'`

### ìœ í‹¸ë¦¬í‹° (@repo/utils)
- **ë„ë©”ì¸ë³„ êµ¬ì¡°**: `src/[ë„ë©”ì¸]/utils.ts`ì— ë„ë©”ì¸ë³„ í•¨ìˆ˜ ì‘ì„±
- **re-export**: `src/index.ts`ì—ì„œ ëª¨ë“  ë„ë©”ì¸ ìœ í‹¸ë¦¬í‹°ë¥¼ re-export
- **ì‚¬ìš©ë²•**: `import { formatDate } from '@repo/utils'`

## 3. ğŸ’» ê¸°ìˆ  ìŠ¤íƒë³„ ì½”ë“œ ìƒì„± ê·œì¹™ (Tech Stack-Specific Rules)

### Next.js 15 & React 19
- **App Router ìš°ì„ **: ëª¨ë“  í˜ì´ì§€ì™€ ë¼ìš°íŒ…ì€ App Router ë°©ì‹ìœ¼ë¡œ ì‘ì„±í•˜ì„¸ìš”. Pages Router ë°©ì‹ì€ ì‚¬ìš©í•˜ì§€ ë§ˆì„¸ìš”
- **Server Components by Default**: 'use client' ì§€ì‹œì–´ëŠ” ìƒíƒœ(State), ìƒëª…ì£¼ê¸°(Lifecycle), ë¸Œë¼ìš°ì € ì „ìš© API ë“± í´ë¼ì´ì–¸íŠ¸ ì¸¡ ìƒí˜¸ì‘ìš©ì´ í•„ìˆ˜ì ì¸ ì»´í¬ë„ŒíŠ¸ì˜ ìµœìƒë‹¨ì—ë§Œ ìµœì†Œí•œìœ¼ë¡œ ì‚¬ìš©í•˜ì„¸ìš”
- **React 19 ê¸°ëŠ¥ í™œìš©**: ìƒˆë¡œìš´ React ê¸°ëŠ¥ë“¤ì„ ì ê·¹ í™œìš©í•˜ì„¸ìš”

### ìŠ¤íƒ€ì¼ë§ (Tailwind CSS v4)
- **Tailwind CSS v4.1.11**: ìµœì‹  Tailwind CSS v4ë¥¼ ì‚¬ìš©í•©ë‹ˆë‹¤
- **PostCSS í”ŒëŸ¬ê·¸ì¸**: `@tailwindcss/postcss` í”ŒëŸ¬ê·¸ì¸ì„ í™œìš©í•˜ì„¸ìš”
- **ì• ë‹ˆë©”ì´ì…˜**: `tw-animate-css` íŒ¨í‚¤ì§€ë¥¼ ì‚¬ìš©í•œ ì• ë‹ˆë©”ì´ì…˜ì„ í™œìš©í•˜ì„¸ìš”

### API ë¼ìš°íŠ¸
- **ì‘ë‹µ í˜•ì‹ í‘œì¤€í™”**: ëª¨ë“  API ì‘ë‹µì€ ì¼ê´€ëœ êµ¬ì¡°ë¥¼ ë”°ë¦…ë‹ˆë‹¤

```typescript
// ì˜ˆì‹œ: ì„±ê³µ ì‹œ
{ success: true, data: { ... } }
// ì˜ˆì‹œ: ì‹¤íŒ¨ ì‹œ
{ success: false, error: { message: '...' } }
```

### ì¸ì¦ (Authentication)
- apps/webì˜ ì¸ì¦ì€ **NextAuth.js v5 (Auth.js)**ë¥¼ ì‚¬ìš©í•©ë‹ˆë‹¤
- ì¸ì¦ ê´€ë ¨ ëª¨ë“  ë¡œì§, API ë¼ìš°íŠ¸, ì„¸ì…˜ ê´€ë¦¬ëŠ” NextAuth.jsì˜ ê·œì¹™ê³¼ ëª¨ë²” ì‚¬ë¡€ë¥¼ ë”°ë¦…ë‹ˆë‹¤

### í¼ (Forms)
- **react-hook-form 7.60.0**ê³¼ **zod**ë¥¼ ì‚¬ìš©í•œ ê°•ë ¥í•œ íƒ€ì…-ì„¸ì´í”„ í¼ì„ êµ¬í˜„í•˜ì„¸ìš”
- ìœ íš¨ì„± ê²€ì‚¬ ìŠ¤í‚¤ë§ˆëŠ” @repo/validationì—ì„œ ì •ì˜ëœ Zod ìŠ¤í‚¤ë§ˆë¥¼ ê°€ì ¸ì™€ zodResolverì™€ í•¨ê»˜ ì‚¬ìš©í•˜ì„¸ìš”

## 4. âš™ï¸ ëª…ë ¹ì–´ ë° ì›Œí¬í”Œë¡œìš° (Commands & Workflow)

### ìµœì´ˆ ê°œë°œ í™˜ê²½ ì„¤ì •
1. **ì‚¬ì „ ìš”êµ¬ì‚¬í•­**: Node.js v24.x, pnpm 10.12.4, Docker & Docker Compose
2. **ë°ì´í„°ë² ì´ìŠ¤ ì‹¤í–‰**: `docker compose up -d`
3. **í™˜ê²½ ë³€ìˆ˜ ì„¤ì •**: 
   ```bash
   cp .env.example .env
   cp apps/web/.env.local.example apps/web/.env.local
   ```
4. **NextAuth.js ì‹œí¬ë¦¿ ìƒì„±**:
   ```bash
   node -e "console.log(require('crypto').randomBytes(32).toString('base64'))"
   ```
5. **ì˜ì¡´ì„± ì„¤ì¹˜**: `pnpm install`
6. **ë°ì´í„°ë² ì´ìŠ¤ ìŠ¤í‚¤ë§ˆ ë™ê¸°í™”**: `pnpm --filter=@repo/db db:push`

### ì£¼ìš” ëª…ë ¹ì–´
```bash
# ê°œë°œ ì„œë²„
pnpm dev                    # ì „ì²´ ê°œë°œ ì„œë²„
pnpm --filter=web dev       # web ì•±ë§Œ

# ë¹Œë“œ ë° ë¦°íŠ¸
pnpm build                  # ì „ì²´ ë¹Œë“œ
pnpm lint                   # ì „ì²´ ë¦°íŠ¸
pnpm format                 # í¬ë§·íŒ…

# Prisma ê´€ë ¨
pnpm --filter=@repo/db db:generate
pnpm --filter=@repo/db db:push
pnpm --filter=@repo/db db:studio
pnpm --filter=@repo/db db:migrate

# shadcn/ui ì»´í¬ë„ŒíŠ¸ ì¶”ê°€
pnpm dlx shadcn@latest add [component] --cwd packages/ui
pnpm --filter=@repo/ui fix-imports

# íƒ€ì… ì²´í¬
pnpm --filter=@repo/ui type-check
pnpm --filter=@repo/db type-check
pnpm --filter=@repo/utils type-check
pnpm --filter=@repo/validation type-check

# ìœ ì§€ë³´ìˆ˜
pnpm clean                  # ìºì‹œ ì •ë¦¬
pnpm clean && pnpm install  # ì „ì²´ ì •ë¦¬ ë° ì¬ì„¤ì¹˜
```

### ì»¤ë°‹ ì»¨ë²¤ì…˜
- **Conventional Commits** ê·œì¹™ì„ ì—„ê²©í•˜ê²Œ ë”°ë¦…ë‹ˆë‹¤
- `feat`: ìƒˆë¡œìš´ ê¸°ëŠ¥ ì¶”ê°€
- `fix`: ë²„ê·¸ ìˆ˜ì •
- `docs`: ë¬¸ì„œ ë³€ê²½
- `style`: ì½”ë“œ í¬ë§·íŒ…, ì„¸ë¯¸ì½œë¡  ëˆ„ë½ ë“± (ì½”ë“œ ë³€ê²½ ì—†ìŒ)
- `refactor`: ì½”ë“œ ë¦¬íŒ©í† ë§
- `test`: í…ŒìŠ¤íŠ¸ ì½”ë“œ ì¶”ê°€/ìˆ˜ì •
- `chore`: ë¹Œë“œ, íŒ¨í‚¤ì§€ ë§¤ë‹ˆì € ì„¤ì • ë“±
- ì˜ˆì‹œ: `feat(auth): add password reset feature`

## 5. ğŸš‘ ë¬¸ì œ í•´ê²° (Troubleshooting)

### TypeScript/ESLint ì˜¤ë¥˜
1. ì¤‘ì•™ ì„¤ì •(@repo/eslint-config, @repo/tsconfig)ê³¼ì˜ ë¶ˆì¼ì¹˜ í™•ì¸
2. IDE TypeScript ì„œë²„ ì¬ì‹œì‘
3. ìºì‹œ ì •ë¦¬: `pnpm clean && pnpm install`

### shadcn/ui import ê²½ë¡œ ì˜¤ë¥˜
- **ì˜¤ë¥˜**: `Cannot resolve module '@/lib/utils'` ë˜ëŠ” ìœ ì‚¬í•œ ì ˆëŒ€ ê²½ë¡œ ì˜¤ë¥˜
- **í•´ê²°**: `pnpm --filter=@repo/ui fix-imports` ìŠ¤í¬ë¦½íŠ¸ ì‹¤í–‰
- **ìˆ˜ë™ í•´ê²°**: `@/lib/utils` â†’ `../../lib/utils`, `@/components/ui/` â†’ `./` ë¡œ ë³€ê²½

### React 19 í˜¸í™˜ì„± ë¬¸ì œ
- **íƒ€ì… ì •ì˜ ì—…ë°ì´íŠ¸**: `pnpm add -D @types/react@^19.1.8 @types/react-dom@^19.1.6`
- **ì˜ì¡´ì„± ì¶©ëŒ**: `pnpm clean && pnpm install`ë¡œ ìºì‹œ/ë…¸ë“œëª¨ë“ˆ ì •ë¦¬

### ì˜ì¡´ì„± ì¶©ëŒ ë° ì•Œ ìˆ˜ ì—†ëŠ” ì˜¤ë¥˜
- ê°€ì¥ ë¨¼ì € ì‹œë„: `pnpm clean && pnpm install`

## 6. ğŸ“š í•µì‹¬ ì„í¬íŠ¸ ë° ì„¤ì • (Cheatsheet)

### íŒ¨í‚¤ì§€ ì„í¬íŠ¸
```typescript
// UI Components
import { Button, Card, Input } from '@repo/ui';

// DB Client
import { prisma } from '@repo/db';
import { ProductModel } from '@repo/db';

// Validation Schema
import { ProductSchema, UserSchema } from '@repo/validation';

// Utils
import { formatDate, chunk, generateId } from '@repo/utils';
```

### ì„¤ì • íŒŒì¼
- **TSConfig** (apps/web/tsconfig.json): `{"extends": "@repo/tsconfig/nextjs.json"}`
- **ESLint** (apps/web/eslint.config.mjs): Flat Config ë°©ì‹ìœ¼ë¡œ ì§ì ‘ ì„¤ì •
- **Tailwind** (apps/web/tailwind.config.ts): Tailwind CSS v4 ì„¤ì •

### React Hook Form + Zod ì—°ë™
```typescript
import { zodResolver } from '@hookform/resolvers/zod';
import { useForm } from 'react-hook-form';
import { ProductSchema } from '@repo/validation';

const form = useForm({
  resolver: zodResolver(ProductSchema),
});
```

---

**ì´ ê·œì¹™ì„ ì¤€ìˆ˜í•˜ì—¬ ì¼ê´€ì„± ìˆê³  ìœ ì§€ë³´ìˆ˜ ê°€ëŠ¥í•œ ì½”ë“œë¥¼ ì‘ì„±í•˜ì„¸ìš”! ğŸš€**
- **Validation Schema**: `import { LoginSchema } from '@repo/validation';`
- **TSConfig** (in apps/web/tsconfig.json): `{"extends": "@repo/tsconfig/nextjs.json"}`
- **ESLint** (in apps/web/eslint.config.mjs): Flat Config ë°©ì‹ìœ¼ë¡œ ì§ì ‘ ì„¤ì •